import request from '@/utils/request';
import {
  {{#importTypes}} 
  {{.}},
  {{/importTypes}} 
} from './definitions';

export default class {{name}}Service {
  {{#paths}}
  static async {{operationId}}({{#pathParams}}{{name}}:{{modelType}},{{/pathParams}}
    {{#queryParams.length}}
    query:{
      {{#queryParams}}
      {{name}}{{^required}}?{{/required}}:{{modelType}},
      {{/queryParams}}
    },
    {{/queryParams.length}}
    {{#bodyParams}}
     {{name}}: {{modelType}}
    {{/bodyParams}}
  ) {
     let url = '{{{path}}}'
     {{=<% %>=}}
     <%#pathParams%>
      url = url.replace('{<%name%>}', String(<%name%>))
      <%/pathParams%>
     <%={{ }}=%>
    return request<{{responseType}}>(url, {
      method: '{{method}}',
       {{#queryParams.length}}
       params: query,
       {{/queryParams.length}}
       {{#bodyParams}}
       data: {{name}},
       {{/bodyParams}}
    });
  }
   {{/paths}}
}
